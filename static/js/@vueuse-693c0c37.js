import{t as Q,r as W,b as $,d as M,g as z,e as J,n as R,u as q,f as I,w as F,h as G,i as E,s as U,j as X}from"./@vue-de80bf49.js";function P(e){return I()?(G(e),!0):!1}function j(e){return typeof e=="function"?e():q(e)}const Y=typeof window<"u"&&typeof document<"u",Z=Object.prototype.toString,ee=e=>Z.call(e)==="[object Object]",x=()=>{};function te(e,t){function n(...o){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(s)})}return n}const H=e=>e();function ne(e=H){const t=M(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:W(t),pause:n,resume:o,eventFilter:r}}function re(...e){if(e.length!==1)return Q(...e);const t=e[0];return typeof t=="function"?W($(()=>({get:t,set:x}))):M(t)}function ae(e,t,n={}){const{eventFilter:o=H,...r}=n;return F(e,te(o,t),r)}function oe(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:s,pause:i,resume:d,isActive:y}=ne(o);return{stop:ae(e,t,{...r,eventFilter:s}),pause:i,resume:d,isActive:y}}function se(e,t=!0){z()?J(e):t?e():R(e)}function B(e){var t;const n=j(e);return(t=n==null?void 0:n.$el)!=null?t:n}const O=Y?window:void 0;function T(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=O):[t,n,o,r]=e,!t)return x;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],i=()=>{s.forEach(m=>m()),s.length=0},d=(m,l,w,v)=>(m.addEventListener(l,w,v),()=>m.removeEventListener(l,w,v)),y=F(()=>[B(t),j(r)],([m,l])=>{if(i(),!m)return;const w=ee(l)?{...l}:l;s.push(...n.flatMap(v=>o.map(c=>d(m,v,c,w))))},{immediate:!0,flush:"post"}),g=()=>{y(),i()};return P(g),g}function ie(){const e=M(!1);return z()&&J(()=>{e.value=!0}),e}function ue(e){const t=ie();return E(()=>(t.value,!!e()))}function le(e,t={}){const{window:n=O}=t,o=ue(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=M(!1),i=g=>{s.value=g.matches},d=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i))},y=X(()=>{o.value&&(d(),r=n.matchMedia(j(e)),"addEventListener"in r?r.addEventListener("change",i):r.addListener(i),s.value=r.matches)});return P(()=>{y(),d(),r=void 0}),s}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_="__vueuse_ssr_handlers__",ce=fe();function fe(){return _ in N||(N[_]=N[_]||{}),N[_]}function K(e,t){return ce[e]||t}function de(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const pe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},V="vueuse-storage";function me(e,t,n,o={}){var r;const{flush:s="pre",deep:i=!0,listenToStorageChanges:d=!0,writeDefaults:y=!0,mergeDefaults:g=!1,shallow:m,window:l=O,eventFilter:w,onError:v=a=>{console.error(a)}}=o,c=(m?U:M)(t);if(!n)try{n=K("getDefaultStorage",()=>{var a;return(a=O)==null?void 0:a.localStorage})()}catch(a){v(a)}if(!n)return c;const h=j(t),L=de(h),S=(r=o.serializer)!=null?r:pe[L],{pause:k,resume:C}=oe(c,()=>f(c.value),{flush:s,deep:i,eventFilter:w});return l&&d&&(T(l,"storage",b),T(l,V,D)),b(),c;function f(a){try{if(a==null)n.removeItem(e);else{const u=S.write(a),p=n.getItem(e);p!==u&&(n.setItem(e,u),l&&l.dispatchEvent(new CustomEvent(V,{detail:{key:e,oldValue:p,newValue:u,storageArea:n}})))}}catch(u){v(u)}}function A(a){const u=a?a.newValue:n.getItem(e);if(u==null)return y&&h!==null&&n.setItem(e,S.write(h)),h;if(!a&&g){const p=S.read(u);return typeof g=="function"?g(p,h):L==="object"&&!Array.isArray(p)?{...h,...p}:p}else return typeof u!="string"?u:S.read(u)}function D(a){b(a.detail)}function b(a){if(!(a&&a.storageArea!==n)){if(a&&a.key==null){c.value=h;return}if(!(a&&a.key!==e)){k();try{(a==null?void 0:a.newValue)!==S.write(c.value)&&(c.value=A(a))}catch(u){v(u)}finally{a?R(C):C()}}}}}function he(e){return le("(prefers-color-scheme: dark)",e)}function ge(e={}){const{selector:t="html",attribute:n="class",initialValue:o="auto",window:r=O,storage:s,storageKey:i="vueuse-color-scheme",listenToStorageChanges:d=!0,storageRef:y,emitAuto:g,disableTransition:m=!0}=e,l={auto:"",light:"light",dark:"dark",...e.modes||{}},w=he({window:r}),v=E(()=>w.value?"dark":"light"),c=y||(i==null?re(o):me(i,o,s,{window:r,listenToStorageChanges:d})),h=E(()=>c.value==="auto"?v.value:c.value),L=K("updateHTMLAttrs",(f,A,D)=>{const b=typeof f=="string"?r==null?void 0:r.document.querySelector(f):B(f);if(!b)return;let a;if(m){a=r.document.createElement("style");const u="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";a.appendChild(document.createTextNode(u)),r.document.head.appendChild(a)}if(A==="class"){const u=D.split(/\s/g);Object.values(l).flatMap(p=>(p||"").split(/\s/g)).filter(Boolean).forEach(p=>{u.includes(p)?b.classList.add(p):b.classList.remove(p)})}else b.setAttribute(A,D);m&&(r.getComputedStyle(a).opacity,document.head.removeChild(a))});function S(f){var A;L(t,n,(A=l[f])!=null?A:f)}function k(f){e.onChanged?e.onChanged(f,S):S(f)}F(h,k,{flush:"post",immediate:!0}),se(()=>k(h.value));const C=E({get(){return g?c.value:h.value},set(f){c.value=f}});try{return Object.assign(C,{store:c,system:v,state:h})}catch{return C}}function ye(e={}){const{valueDark:t="dark",valueLight:n=""}=e,o=ge({...e,onChanged:(s,i)=>{var d;e.onChanged?(d=e.onChanged)==null||d.call(e,s==="dark",i,s):i(s)},modes:{dark:t,light:n}});return E({get(){return o.value==="dark"},set(s){const i=s?"dark":"light";o.system.value===i?o.value="auto":o.value=i}})}export{ye as u};
